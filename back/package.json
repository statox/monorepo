{
    "name": "api.statox.fr",
    "version": "1",
    "description": "The code for my personal API",
    "engines": {
        "node": "24.x"
    },
    "main": "index.ts",
    "type": "module",
    "scripts": {
        "setup-githooks": "./githooks/setup.sh",
        "generate:sdk": "npx tsx scripts/generateSDK.ts",
        "check": "npm run lint && npm run prettier",
        "prettier": "prettier --check --cache '*.json' 'src/**/*.ts' 'tests/**/*.ts'",
        "prettier:fix": "prettier -w --cache '*.json' 'src/**/*.ts' 'tests/**/*.ts'",
        "lint": "eslint",
        "lint:fix": "npm run lint --fix",
        "heroku:login": "npx heroku@latest login",
        "heroku:deploy": "npm run check && npm run tests:all && git push heroku main",
        "heroku:deploy:skip-tests": "npm run check && git push heroku main",
        "heroku:force-deploy": "npm run check && npm run tests:all && git push -f heroku main",
        "heroku:force-deploy:skip-tests": "npm run check && git push -f heroku main",
        "heroku:ssh": "npx heroku@latest run bash",
        "postinstall": "tsc",
        "env": "./src/tools/containers-env.sh up",
        "env:stop": "./src/tools/containers-env.sh down",
        "serve": "TZ=UTC node --watch dist/index.js",
        "watch": "rm -fr dist/ && tsc -w",
        "tests": "src/tools/init-db.sh --tests && TZ=UTC PORT=3001 ENV=tests mocha --unhandled-rejections=strict --config .mocha/routes.json",
        "tests:all": "npm run tests:packages && npm run tests:framework && npm run tests",
        "tests:ci": "npm run tests:packages -- --reporter mocha-ctrf-json-reporter --reporter-options 'outputFile=packages.json' && npm run tests:framework -- --reporter mocha-ctrf-json-reporter --reporter-options 'outputFile=framework.json' && npm run tests -- --reporter mocha-ctrf-json-reporter --reporter-options 'outputFile=tests.json'",
        "tests:framework": "src/tools/init-db.sh --tests && TZ=UTC PORT=3001 ENV=tests mocha --unhandled-rejections=strict --config .mocha/framework.json",
        "tests:packages": "mocha --unhandled-rejections=strict --config .mocha/packages.json",
        "user:create": "node dist/src/tools/auth/createUser.js",
        "user:create:prod": "npx heroku@latest run node dist/src/tools/auth/createUser.js"
    },
    "dependencies": {
        "@aws-sdk/client-s3": "^3.958.0",
        "@aws-sdk/s3-request-presigner": "^3.958.0",
        "@elastic/elasticsearch": "^8.17.1",
        "@slack/webhook": "^7.0.6",
        "@types/passport": "^1.0.17",
        "@types/passport-local": "^1.0.38",
        "@types/ws": "^8.18.1",
        "ajv": "^8.17.1",
        "aws-sdk-client-mock": "^4.1.0",
        "cors": "^2.8.5",
        "express": "^5.2.1",
        "express-json-validator-middleware": "^3.0.1",
        "express-mysql-session": "^3.0.3",
        "express-session": "^1.18.2",
        "formidable": "^3.5.4",
        "jsdom": "^27.4.0",
        "libsodium": "^0.7.15",
        "libsodium-wrappers": "^0.7.15",
        "libsodium-wrappers-sumo": "^0.7.15",
        "lunarphase-js": "^2.0.3",
        "luxon": "^3.7.2",
        "memoize": "^10.2.0",
        "mime-types": "^3.0.2",
        "mustache-express": "^1.3.2",
        "mysql2": "^3.16.0",
        "passport": "^0.7.0",
        "passport-local": "^1.0.0",
        "ws": "^8.18.3"
    },
    "devDependencies": {
        "@eslint/eslintrc": "^3.3.3",
        "@eslint/js": "^9.39.2",
        "@smithy/util-stream": "^4.0.1",
        "@types/chai": "^5.2.3",
        "@types/connect-sqlite3": "^0.9.6",
        "@types/cookie-signature": "^1.1.2",
        "@types/cors": "^2.8.19",
        "@types/express": "^5.0.6",
        "@types/express-mysql-session": "^3.0.8",
        "@types/express-session": "^1.18.2",
        "@types/formidable": "^3.4.6",
        "@types/jsdom": "^27.0.0",
        "@types/libsodium-wrappers": "^0.7.14",
        "@types/libsodium-wrappers-sumo": "^0.7.8",
        "@types/luxon": "^3.7.1",
        "@types/mime-types": "^3.0.1",
        "@types/mocha": "^10.0.10",
        "@types/mustache-express": "^1.2.5",
        "@types/sinon": "^21.0.0",
        "@types/supertest": "^6.0.3",
        "@typescript-eslint/eslint-plugin": "^8.50.1",
        "@typescript-eslint/parser": "^8.32.1",
        "aws-sdk-client-mock-jest": "^4.1.0",
        "chai": "^6.2.2",
        "cookie-signature": "^1.2.2",
        "ctrf": "^0.0.17",
        "eslint": "^9.39.2",
        "eslint-config-prettier": "^10.1.8",
        "github-actions-ctrf": "^0.0.58",
        "globals": "^17.0.0",
        "json-schema-to-ts": "^3.1.1",
        "mocha": "^11.7.5",
        "mocha-ctrf-json-reporter": "^0.0.10",
        "prettier": "^3.7.4",
        "sinon": "^21.0.1",
        "supertest": "^7.1.4",
        "typescript": "^5.9.3"
    },
    "repository": {
        "type": "git",
        "url": "https://github.com/statox/api.statox.fr"
    },
    "license": "MIT"
}
