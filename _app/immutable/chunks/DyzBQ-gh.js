import{ab as w,k as x,l,m as A,ac as N,H as B,u as D,q as H,v as c,z as S,ad as v,T,X as b,ae as q,af as L,ag as R,ah as j,ai as z,aj as G}from"./eXUqL77E.js";import{B as M}from"./Bc3ktxwc.js";const k=0,_=1;function U(m,E,y,r,n){l&&A();var h=w(),t=G,i=h?T(t):b(t,!1,!1),f=h?T(t):b(t,!1,!1),a=new M(m);x(()=>{var u=E(),d=!1;let p=l&&N(u)===(m.data===B);if(p&&(D(H()),c(!1)),N(u)){var g=q(),I=!1;const s=e=>{if(!d){I=!0,g(!1),L.ensure(),l&&c(!1);try{e()}finally{R(),j||z()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(o=>r(o,i)))})},e=>{s(()=>{if(v(f,e),a.ensure(_,n&&(o=>n(o,f))),!n)throw f.v})}),l?a.ensure(k,y):S(()=>{I||s(()=>{a.ensure(k,y)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return p&&c(!0),()=>{d=!0}})}export{U as a};
