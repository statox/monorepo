import"../chunks/DsnmJJEf.js";import{p as V,b as i,f as C,s as p,g as t,aI as D,r,h as E,i as Z,a as o,d as q,U as tt,e as v,t as w,F as et}from"../chunks/eXUqL77E.js";import{d as B,s as N}from"../chunks/BemXrffE.js";import{a as at}from"../chunks/DyzBQ-gh.js";import{M as rt}from"../chunks/CQl9_8lk.js";import{M as ot}from"../chunks/utk3oDie.js";import{g as it}from"../chunks/BTKj-7LS.js";import{i as F}from"../chunks/CTMdkGpN.js";import{e as H,i as I}from"../chunks/D9zXBg3D.js";import{r as st,a as x}from"../chunks/CujdopWx.js";import{b as nt}from"../chunks/CEUJmi10.js";import{t as lt}from"../chunks/BtWB7XCZ.js";import{g as dt}from"../chunks/B0neLVfT.js";import"../chunks/ctDXYmCv.js";import"../chunks/BJeU-_wF.js";import{p as ct}from"../chunks/B4-ntoLf.js";/* empty css                */import{g as mt}from"../chunks/Cav7LX1B.js";const vt=!1,It=Object.freeze(Object.defineProperty({__proto__:null,ssr:vt},Symbol.toStringTag,{value:"Module"}));var pt=i('<span class="tag svelte-noox7t"> </span>'),ut=i('<video class="medium-margin svelte-noox7t" style="max-width: 100%" controls></video>',2),ft=i('<img class="medium-margin svelte-noox7t"/>'),gt=i('<div><div><b> </b></div> <div class="svelte-noox7t"></div> <div><button class="full-width svelte-noox7t"><i class="fas fa-copy"></i> Copy link</button></div></div> <div><a rel="noopener noreferrer" target="blank"><!></a></div>',1),_t=i('<button class="full-width medium-margin svelte-noox7t">More...</button>'),ht=i('<input class="full-width medium-margin svelte-noox7t" type="text" placeholder="Search by tags or name"/> <div class="container svelte-noox7t"></div> <!>',1);function bt(L,g){V(g,!0);const u=10;let _=E(1),n=E("");const h=dt(),k=D(()=>g.reactions.filter(e=>T(e,t(n))).sort((e,a)=>a.creationDateUnix-e.creationDateUnix).slice(0,t(n).length?void 0:t(_)*u)),T=(e,a)=>{if(!a.length||e.name.toLowerCase().includes(a.toLowerCase()))return!0;for(const M of e.tags)if(M.toLowerCase().includes(a.toLowerCase()))return!0;return!1},s=e=>{navigator.clipboard.writeText(h+e.uri),lt.push('<i class="fas fa-check"></i> Link copied to clipboard',{duration:1e3,theme:{"--toastBarHeight":0}})},l=e=>e.s3PresignedUrl.includes(".mp4");var d=ht(),f=C(d);st(f);var b=p(f,2);H(b,21,()=>t(k),I,(e,a)=>{const y=D(()=>h+t(a).uri);var M=gt(),U=C(M),P=v(U),O=v(P),G=v(O,!0);r(O),r(P);var R=p(P,2);H(R,21,()=>t(a).tags,I,(c,m)=>{var $=pt(),Y=v($,!0);r($),w(()=>N(Y,t(m))),o(c,$)}),r(R);var j=p(R,2),K=v(j);K.__click=()=>s(t(a)),r(j),r(U);var z=p(U,2),S=v(z),Q=v(S);{var W=c=>{var m=ut();w(()=>x(m,"src",t(y))),o(c,m)},X=c=>{var m=ft();w(()=>{x(m,"src",t(y)),x(m,"alt",t(a).name)}),o(c,m)};F(Q,c=>{l(t(a))?c(W):c(X,!1)})}r(S),r(z),w(()=>{N(G,t(a).name),x(S,"href",t(y)),x(S,"download",t(a).name)}),o(e,M)}),r(b);var A=p(b,2);{var J=e=>{var a=_t();a.__click=()=>tt(_),o(e,a)};F(A,e=>{t(n).length===0&&t(_)*u<g.reactions.length&&e(J)})}nt(f,()=>t(n),e=>Z(n,e)),o(L,d),q()}B(["click"]);var xt=i("<button>Add an entry</button>"),wt=i("<p>Something went wrong</p> <p> </p>",1),kt=i("<p>Loading data</p>"),yt=i("<!> <h2>Upload</h2> <!> <h2>Content</h2> <!>",1);function Vt(L,g){V(g,!0);const u={name:"Reactor",description:"My collection of memes",showAuthInHeader:!0};ct.set(u);let _=et(it());var n=yt(),h=C(n);ot(h,{get title(){return u.name},get description(){return u.description}});var k=p(h,4);rt(k,{message:"Login to add an entry",requiredScope:"admin",children:(s,l)=>{var d=xt();d.__click=()=>mt("/reactor/create"),o(s,d)},$$slots:{default:!0}});var T=p(k,4);at(T,()=>_,s=>{var l=kt();o(s,l)},(s,l)=>{bt(s,{get reactions(){return t(l)}})},(s,l)=>{var d=wt(),f=p(C(d),2),b=v(f,!0);r(f),w(A=>N(b,A),[()=>JSON.stringify(t(l))]),o(s,d)}),o(L,n),q()}B(["click"]);export{Vt as component,It as universal};
