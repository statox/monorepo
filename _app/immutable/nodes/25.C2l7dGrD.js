import"../chunks/DsnmJJEf.js";import{w as Ye,y as Ze,p as $e,c as ke,f as he,a as c,d as Me,b as C,g as e,D as Fe,s as m,e as d,r,t as S,j as je,h as _e,F as Oe,aI as $,n as Ne,i as ae,by as ie}from"../chunks/eXUqL77E.js";import{d as We,s as N,e as Ue}from"../chunks/BemXrffE.js";import{i as z}from"../chunks/CTMdkGpN.js";import{M as Qe}from"../chunks/BLEaYA2t.js";import{M as et}from"../chunks/utk3oDie.js";import"../chunks/ctDXYmCv.js";import{o as Ae}from"../chunks/vjUZdrab.js";import{e as re,i as se}from"../chunks/D9zXBg3D.js";import{b as Pe,s as tt,a as f,r as Ve,e as Je}from"../chunks/CujdopWx.js";import{i as at}from"../chunks/UpJSkP_W.js";import{a as Ee,s as Xe}from"../chunks/y59AJ40k.js";import{M as Be}from"../chunks/71ylWyng.js";import{j as Te,p as Ie}from"../chunks/CnfZ9F3w.js";import{D as ge}from"../chunks/CkcISRbr.js";import{g as Ge}from"../chunks/DBm6smYt.js";import{S as ot,P as rt}from"../chunks/DTVyES5u.js";import{p as ze}from"../chunks/TtEguMge.js";import"../chunks/DCHNKFqy.js";import{p as st}from"../chunks/B4-ntoLf.js";/* empty css                */class He{#e=new WeakMap;#t;#a;static entries=new WeakMap;constructor(I){this.#a=I}observe(I,R){var E=this.#e.get(I)||new Set;return E.add(R),this.#e.set(I,E),this.#o().observe(I,this.#a),()=>{var x=this.#e.get(I);x.delete(R),x.size===0&&(this.#e.delete(I),this.#t.unobserve(I))}}#o(){return this.#t??(this.#t=new ResizeObserver(I=>{for(var R of I){He.entries.set(R.target,R);for(var E of this.#e.get(R.target)||[])E(R)}}))}}var nt=new He({box:"border-box"});function Re(ne,I,R){var E=nt.observe(ne,()=>R(ne[I]));Ye(()=>(Ze(()=>R(ne[I])),E))}var lt=C("<p>Loading events</p>"),it=C('<span class="emoji-value svelte-cyscl8"> </span>'),vt=C('<span class="emoji-value svelte-cyscl8"> </span>'),ct=C('<span class="emoji-value svelte-cyscl8"> </span>'),dt=C('<button class="emotion-item svelte-cyscl8"> </button>'),ut=C('<div class="selection svelte-cyscl8"></div>'),gt=C('<div class="journal-text svelte-cyscl8"> </div>'),mt=C('<button class="journal-toggle svelte-cyscl8"> </button> <!>',1),ht=C('<div class="event svelte-cyscl8"><div class="event-date svelte-cyscl8"> </div> <div class="event-value svelte-cyscl8" data-label="Mood:"><!></div> <div class="event-value svelte-cyscl8" data-label="Energy:"><!></div> <div class="event-value svelte-cyscl8" data-label="Weight:"><!></div> <div class="event-value svelte-cyscl8" data-label="Workplace:"><!></div> <div class="event-value svelte-cyscl8" data-label="Emotions:"><!></div> <div class="event-value journal-cell svelte-cyscl8"><!></div> <div class="event-actions svelte-cyscl8"><button class="svelte-cyscl8">Edit</button></div></div>'),ft=C('<div class="events-header svelte-cyscl8"><div>Date</div> <div>Mood</div> <div>Energy</div> <div>Weight</div> <div>Workplace</div> <div>Emotions</div> <div>Journal</div> <div>Actions</div></div> <!>',1);function pt(ne,I){$e(I,!1);const R=()=>Ee(Ie,"$personalTrackerPassword",x),E=()=>Ee(Te,"$eventsStore",x),[x,oe]=Xe();Ae(()=>{Te.fetch(R())});const w=A=>{Ge(`/personal-tracker/add/${A}`)},Y=["üò¢","üòü","üòï","üòê","üôÇ","üòä","üòÑ","üòÅ","ü§©","üòç"],Z=["üò¥","üò™","ü•±","üòë","üòê","üôÇ","üòä","üòÑ","‚ö°","üîã"],Q=new ot,g=A=>{Q.has(A)?Q.delete(A):Q.add(A)};at();var n=ke(),p=he(n);{var j=A=>{var B=lt();c(A,B)},L=A=>{var B=ke(),U=he(B);{var b=J=>{{let K=Fe(()=>({level:"error",header:"Something went wrong getting events",message:E().error.message}));Be(J,{get item(){return e(K)}})}},T=J=>{var K=ft(),q=m(he(K),2);re(q,1,()=>E().events.sort((G,k)=>k.eventDateUnix-G.eventDateUnix),se,(G,k)=>{const v=Fe(()=>ge.fromSeconds(e(k).eventDateUnix).toFormat("EEEE, d MMMM yyyy")),y=Fe(()=>Q.has(e(k).eventDateUnix));var u=ht(),X=d(u),o=d(X,!0);r(X);var i=m(X,2),s=d(i);{var t=P=>{var _=it(),H=d(_);r(_),S(()=>N(H,`${Y[e(k).mood-1]??""}
                        ${e(k).mood??""}`)),c(P,_)},l=P=>{var _=je("-");c(P,_)};z(s,P=>{e(k).mood!==void 0?P(t):P(l,!1)})}r(i);var a=m(i,2),h=d(a);{var D=P=>{var _=vt(),H=d(_);r(_),S(()=>N(H,`${Z[e(k).energy-1]??""}
                        ${e(k).energy??""}`)),c(P,_)},F=P=>{var _=je("-");c(P,_)};z(h,P=>{e(k).energy!==void 0?P(D):P(F,!1)})}r(a);var ve=m(a,2),we=d(ve);{var be=P=>{var _=je();S(H=>N(_,`${H??""} kg`),[()=>(e(k).weight/100).toFixed(1)]),c(P,_)},le=P=>{var _=je("-");c(P,_)};z(we,P=>{e(k).weight!==void 0?P(be):P(le,!1)})}r(ve);var ee=m(ve,2),V=d(ee);{var te=P=>{var _=ct(),H=d(_,!0);r(_),S(()=>N(H,e(k).workplace==="remote"?"üè†":"üè¢")),c(P,_)},ce=P=>{var _=je("-");c(P,_)};z(V,P=>{e(k).workplace!==void 0?P(te):P(ce,!1)})}r(ee);var de=m(ee,2),me=d(de);{var xe=P=>{var _=ut();re(_,5,()=>e(k).emotionwheel.emotions,se,(H,pe)=>{var Se=dt(),Ce=d(Se);r(Se),S(()=>{Pe(Se,`--color: ${e(pe).color??""}`),N(Ce,`${e(pe).category??""}
                                ${e(pe).subcategory??""}
                                ${e(pe).emotion??""}`)}),c(H,Se)}),r(_),c(P,_)},fe=P=>{var _=je("-");c(P,_)};z(me,P=>{e(k).emotionwheel?.emotions?P(xe):P(fe,!1)})}r(de);var W=m(de,2),O=d(W);{var M=P=>{var _=mt(),H=he(_);H.__click=()=>g(e(k).eventDateUnix);var pe=d(H,!0);r(H);var Se=m(H,2);{var Ce=qe=>{var Le=gt(),Ke=d(Le,!0);r(Le),S(()=>N(Ke,e(k).journal)),c(qe,Le)};z(Se,qe=>{e(y)&&qe(Ce)})}S(()=>N(pe,e(y)?"üìñ Hide":"üìù Show")),c(P,_)},ue=P=>{var _=je("-");c(P,_)};z(O,P=>{e(k).journal!==void 0?P(M):P(ue,!1)})}r(W);var ye=m(W,2),De=d(ye);De.__click=()=>w(e(k).eventDateUnix),r(ye),r(u),S(()=>N(o,e(v))),c(G,u)}),c(J,K)};z(U,J=>{E().error?J(b):J(T,!1)},!0)}c(A,B)};z(p,A=>{E().loading?A(j):A(L,!1)})}c(ne,n),Me(),oe()}We(["click"]);var yt=C("<p>Loading events</p>"),xt=C('<div class="add-indicator svelte-juywa"><span class="plus-sign svelte-juywa">+</span></div>'),_t=C('<div class="indicator mood svelte-juywa"> </div>'),wt=C('<div class="indicator weight svelte-juywa">W</div>'),bt=C('<div class="indicator emotions svelte-juywa">E</div>'),$t=C('<div class="indicator workplace svelte-juywa"> </div>'),Mt=C('<div class="indicator energy svelte-juywa"> </div>'),kt=C('<div class="indicator journal svelte-juywa" title="Journal entry">üìù</div>'),Dt=C('<div class="event-indicators svelte-juywa"><!> <!> <!> <!> <!> <!></div>'),jt=C('<div role="button" tabindex="0"><div class="day-number svelte-juywa"> </div> <!> <!></div>'),St=C('<div class="calendar-container svelte-juywa"><div class="calendar-header svelte-juywa"><button class="nav-button svelte-juywa">&lt;</button> <h3 class="month-year svelte-juywa"> </h3> <button class="nav-button svelte-juywa">&gt;</button> <button class="today-button svelte-juywa">Today</button></div> <div class="calendar-grid svelte-juywa"><div class="day-name svelte-juywa">Mon</div> <div class="day-name svelte-juywa">Tue</div> <div class="day-name svelte-juywa">Wed</div> <div class="day-name svelte-juywa">Thu</div> <div class="day-name svelte-juywa">Fri</div> <div class="day-name svelte-juywa">Sat</div> <div class="day-name svelte-juywa">Sun</div> <!></div> <div class="calendar-legend svelte-juywa"><div class="legend-item svelte-juywa"><div class="indicator mood svelte-juywa">5</div> <span>Mood</span></div> <div class="legend-item svelte-juywa"><div class="indicator weight svelte-juywa">W</div> <span>Weight</span></div> <div class="legend-item svelte-juywa"><div class="indicator emotions svelte-juywa">E</div> <span>Emotions</span></div> <div class="legend-item svelte-juywa"><div class="indicator workplace svelte-juywa">üè†</div> <span>Workplace</span></div> <div class="legend-item svelte-juywa"><div class="indicator energy svelte-juywa">5</div> <span>Energy</span></div> <div class="legend-item svelte-juywa"><div class="indicator journal svelte-juywa">üìù</div> <span>Journal</span></div></div></div>');function Ut(ne,I){$e(I,!0);const R=()=>Ee(Ie,"$personalTrackerPassword",x),E=()=>Ee(Te,"$eventsStore",x),[x,oe]=Xe();let w=_e(Oe(ge.now().startOf("month")));Ae(()=>{Te.fetch(R())});const Y=()=>{ae(w,e(w).minus({months:1}),!0)},Z=()=>{ae(w,e(w).plus({months:1}),!0)},Q=()=>{ae(w,ge.now().startOf("month"),!0)},g=b=>{Ge(`/personal-tracker/add/${b}`)},n=(b,T)=>{const J=b.startOf("month"),q=J.weekday-1,G=42,k=[];let v=J.minus({days:q});for(let y=0;y<G;y++){const u=v.toUTC().plus({days:1}).startOf("day").toUnixInteger(),X=T.find(s=>s.eventDateUnix===u),o=v.month===b.month,i=v.hasSame(ge.now(),"day");k.push({date:v,timestamp:u,event:X,isCurrentMonth:o,isToday:i}),v=v.plus({days:1})}return k},p=$(()=>n(e(w),E().events)),j=$(()=>e(w).toFormat("MMMM yyyy"));var L=ke(),A=he(L);{var B=b=>{var T=yt();c(b,T)},U=b=>{var T=ke(),J=he(T);{var K=G=>{{let k=$(()=>({level:"error",header:"Something went wrong getting events",message:E().error.message}));Be(G,{get item(){return e(k)}})}},q=G=>{var k=St(),v=d(k),y=d(v);y.__click=Y;var u=m(y,2),X=d(u,!0);r(u);var o=m(u,2);o.__click=Z;var i=m(o,2);i.__click=Q,r(v);var s=m(v,2),t=m(d(s),14);re(t,17,()=>e(p),se,(l,a)=>{var h=jt();let D;h.__click=()=>g(e(a).timestamp);var F=d(h),ve=d(F,!0);r(F);var we=m(F,2);{var be=V=>{var te=xt();c(V,te)};z(we,V=>{e(a).event||V(be)})}var le=m(we,2);{var ee=V=>{var te=Dt(),ce=d(te);{var de=_=>{var H=_t(),pe=d(H,!0);r(H),S(()=>{f(H,"title",`Mood: ${e(a).event.mood??""}`),N(pe,e(a).event.mood)}),c(_,H)};z(ce,_=>{e(a).event.mood!==void 0&&_(de)})}var me=m(ce,2);{var xe=_=>{var H=wt();S(pe=>f(H,"title",`Weight: ${pe??""} kg`),[()=>(e(a).event.weight/100).toFixed(1)]),c(_,H)};z(me,_=>{e(a).event.weight!==void 0&&_(xe)})}var fe=m(me,2);{var W=_=>{var H=bt();S(()=>f(H,"title",`${e(a).event.emotionwheel.emotions.length??""} emotions`)),c(_,H)};z(fe,_=>{e(a).event.emotionwheel?.emotions&&_(W)})}var O=m(fe,2);{var M=_=>{var H=$t(),pe=d(H,!0);r(H),S(()=>{f(H,"title",`Workplace: ${e(a).event.workplace??""}`),N(pe,e(a).event.workplace==="remote"?"üè†":"üè¢")}),c(_,H)};z(O,_=>{e(a).event.workplace!==void 0&&_(M)})}var ue=m(O,2);{var ye=_=>{var H=Mt(),pe=d(H,!0);r(H),S(()=>{f(H,"title",`Energy: ${e(a).event.energy??""}`),N(pe,e(a).event.energy)}),c(_,H)};z(ue,_=>{e(a).event.energy!==void 0&&_(ye)})}var De=m(ue,2);{var P=_=>{var H=kt();c(_,H)};z(De,_=>{e(a).event.journal!==void 0&&_(P)})}r(te),c(V,te)};z(le,V=>{e(a).event&&V(ee)})}r(h),S(()=>{D=tt(h,1,"calendar-day svelte-juywa",null,D,{"other-month":!e(a).isCurrentMonth,"has-event":e(a).event,today:e(a).isToday}),N(ve,e(a).date.day)}),c(l,h)}),r(s),Ne(2),r(k),S(()=>N(X,e(j))),c(G,k)};z(J,G=>{E().error?G(K):G(q,!1)},!0)}c(b,T)};z(A,b=>{E().loading?b(B):b(U,!1)})}c(ne,L),Me(),oe()}We(["click"]);var Et=C('<div class="time-window-picker svelte-1hdulpl"><div class="date-field svelte-1hdulpl"><label for="start-date" class="svelte-1hdulpl">From</label> <input type="date" id="start-date" class="svelte-1hdulpl"/></div> <div class="date-field svelte-1hdulpl"><label for="end-date" class="svelte-1hdulpl">To</label> <div class="end-date-row svelte-1hdulpl"><input type="date" id="end-date" class="svelte-1hdulpl"/> <button type="button" class="now-btn svelte-1hdulpl" title="Set to today">Today</button></div></div></div>');function Tt(ne,I){$e(I,!0);let R=ze(I,"startDate",15),E=ze(I,"endDate",15);const x=b=>ge.fromMillis(b).toFormat("yyyy-MM-dd"),oe=b=>ge.fromFormat(b,"yyyy-MM-dd").toMillis();let w=$(()=>x(R())),Y=$(()=>x(E()));const Z=b=>{const T=b.target;T.value&&R(oe(T.value))},Q=b=>{const T=b.target;T.value&&E(oe(T.value))},g=()=>{E(ge.now().startOf("day").toMillis())};var n=Et(),p=d(n),j=m(d(p),2);Ve(j),j.__change=Z,r(p);var L=m(p,2),A=m(d(L),2),B=d(A);Ve(B),B.__change=Q;var U=m(B,2);U.__click=g,r(A),r(L),r(n),S(()=>{Je(j,e(w)),Je(B,e(Y))}),c(ne,n),Me()}We(["change","click"]);var Wt=C('<p class="no-data svelte-ja7tye">No emotions recorded in this time period</p>'),Pt=ie('<line class="grid-line svelte-ja7tye"></line>'),Ct=ie('<rect class="bar svelte-ja7tye"><title> </title></rect>'),qt=ie('<text class="axis-label svelte-ja7tye" text-anchor="end"> </text>'),Lt=ie('<text class="axis-label svelte-ja7tye" text-anchor="middle"> </text>'),Ft=C('<div class="legend-item svelte-ja7tye"><span class="legend-color svelte-ja7tye"></span> <span class="legend-label svelte-ja7tye"> </span></div>'),Ot=C('<div class="chart-container svelte-ja7tye"><svg class="bar-chart svelte-ja7tye"><g class="grid"></g><g></g><g class="y-axis"></g><g class="x-axis"></g></svg> <div class="legend svelte-ja7tye"></div></div>'),At=C('<div class="emotions-daily-bars svelte-ja7tye"><h3 class="svelte-ja7tye">Daily Emotions by Category</h3> <!></div>');function Xt(ne,I){$e(I,!0);let R=_e(600);const E=300,x={top:20,right:20,bottom:50,left:40};let oe=$(()=>Math.max(e(R),450)),w=$(()=>e(oe)-x.left-x.right);const Y=E-x.top-x.bottom;let Z=$(()=>[...I.events].filter(v=>v.emotionwheel?.emotions?.length).sort((v,y)=>v.eventDateUnix-y.eventDateUnix)),Q=$(()=>{const v=new Map;for(const y of e(Z))if(y.emotionwheel?.emotions)for(const u of y.emotionwheel.emotions)v.has(u.category)||v.set(u.category,u.color);return v}),g=$(()=>Array.from(e(Q).keys()).sort()),n=$(()=>{if(e(Z).length===0)return[];const v=new Map;for(const y of e(Z)){const u=ge.fromSeconds(y.eventDateUnix).startOf("day"),X=u.toISO();v.has(X)||v.set(X,{date:u,dateUnix:u.toSeconds(),counts:new Map,total:0});const o=v.get(X);if(y.emotionwheel?.emotions)for(const i of y.emotionwheel.emotions){const s=o.counts.get(i.category)||0;o.counts.set(i.category,s+1),o.total++}}return Array.from(v.values()).sort((y,u)=>y.dateUnix-u.dateUnix)}),p=$(()=>{let v=1;for(const y of e(n))for(const u of y.counts.values())u>v&&(v=u);return v}),j=$(()=>{if(e(n).length===0)return()=>0;const v=e(n)[0].dateUnix,u=e(n)[e(n).length-1].dateUnix-v||1;return X=>(X-v)/u*e(w)}),L=$(()=>{if(e(n).length===0)return 20;if(e(n).length===1)return Math.min(20,e(w)*.8/Math.max(e(g).length,1));let v=1/0;for(let X=1;X<e(n).length;X++){const o=e(j)(e(n)[X].dateUnix)-e(j)(e(n)[X-1].dateUnix);o<v&&(v=o)}const u=v*.8/Math.max(e(g).length,1);return Math.max(3,Math.min(20,u))}),A=$(()=>e(L)*e(g).length),B=$(()=>v=>Y-v/e(p)*Y*.9),U=$(()=>{const v=[];return e(n).forEach(y=>{const X=e(j)(y.dateUnix)-e(A)/2;e(g).forEach((o,i)=>{const s=y.counts.get(o)||0;if(s>0){const t=X+i*e(L),l=s/e(p)*Y*.9;v.push({x:t,y:Y-l,width:e(L)-1,height:l,color:e(Q).get(o)||"#888",category:o,count:s,date:y.date})}})}),v}),b=$(()=>{if(e(n).length===0)return[];const v=10,y=[];if(e(n).length<=v)e(n).forEach(u=>{y.push({x:e(j)(u.dateUnix),label:u.date.toFormat("dd/MM")})});else{const u=Math.ceil(e(n).length/v);for(let X=0;X<e(n).length;X+=u){const o=e(n)[X];y.push({x:e(j)(o.dateUnix),label:o.date.toFormat("dd/MM")})}}return y}),T=$(()=>{const v=[],y=Math.max(1,Math.ceil(e(p)/5));for(let u=0;u<=e(p);u+=y)v.push(u);return v[v.length-1]<e(p)&&v.push(e(p)),v}),J=$(()=>{const v=new Map;for(const y of e(n))for(const[u,X]of y.counts)v.set(u,(v.get(u)||0)+X);return e(g).map(y=>({category:y,color:e(Q).get(y)||"#888",total:v.get(y)||0})).sort((y,u)=>u.total-y.total)});var K=At(),q=m(d(K),2);{var G=v=>{var y=Wt();c(v,y)},k=v=>{var y=Ot(),u=d(y),X=d(u);re(X,21,()=>e(T),se,(l,a)=>{var h=Pt();S((D,F)=>{f(h,"x1",x.left),f(h,"y1",D),f(h,"x2",e(oe)-x.right),f(h,"y2",F)},[()=>x.top+e(B)(e(a)),()=>x.top+e(B)(e(a))]),c(l,h)}),r(X);var o=m(X);re(o,21,()=>e(U),se,(l,a)=>{var h=Ct(),D=d(h),F=d(D);r(D),r(h),S(ve=>{f(h,"x",e(a).x),f(h,"y",e(a).y),f(h,"width",e(a).width),f(h,"height",e(a).height),f(h,"fill",e(a).color),N(F,`${ve??""}: ${e(a).category??""} - ${e(a).count??""}`)},[()=>e(a).date.toFormat("dd MMM")]),c(l,h)}),r(o);var i=m(o);re(i,21,()=>e(T),se,(l,a)=>{var h=qt(),D=d(h,!0);r(h),S(F=>{f(h,"x",x.left-8),f(h,"y",F),N(D,e(a))},[()=>x.top+e(B)(e(a))+4]),c(l,h)}),r(i);var s=m(i);re(s,21,()=>e(b),se,(l,a)=>{var h=Lt(),D=d(h,!0);r(h),S(()=>{f(h,"x",x.left+e(a).x),f(h,"y",E-x.bottom+20),N(D,e(a).label)}),c(l,h)}),r(s),r(u);var t=m(u,2);re(t,21,()=>e(J),se,(l,a)=>{var h=Ft(),D=d(h),F=m(D,2),ve=d(F,!0);r(F),r(h),S(()=>{Pe(D,`background-color: ${e(a).color??""}`),N(ve,e(a).category)}),c(l,h)}),r(t),r(y),S(()=>{f(u,"viewBox",`0 0 ${e(oe)??""} 300`),f(o,"transform",`translate(${x.left}, ${x.top})`)}),Re(y,"clientWidth",l=>ae(R,l)),c(v,y)};z(q,v=>{e(n).length===0?v(G):v(k,!1)})}r(K),c(ne,K),Me()}var Bt=C('<p class="no-data svelte-1u1vngp">No emotions recorded in this time period</p>'),It=ie('<path class="pie-slice svelte-1u1vngp"><title> </title></path>'),Gt=ie('<text class="pie-label svelte-1u1vngp" text-anchor="middle" dominant-baseline="middle"> </text>'),Ht=C('<div class="legend-item svelte-1u1vngp"><span class="legend-color svelte-1u1vngp"></span> <span class="legend-label svelte-1u1vngp"> </span> <span class="legend-count svelte-1u1vngp"> </span></div>'),Rt=C('<div class="legend-category svelte-1u1vngp"><div class="category-header svelte-1u1vngp"><span> </span> <span class="category-percentage svelte-1u1vngp"> </span></div> <div class="category-items svelte-1u1vngp"></div></div>'),Vt=C('<div class="chart-wrapper svelte-1u1vngp"><svg viewBox="0 0 300 300" class="pie-chart svelte-1u1vngp"><!><!></svg> <div class="legend svelte-1u1vngp"></div></div>'),Jt=C('<div class="emotions-pie-chart svelte-1u1vngp"><h3 class="svelte-1u1vngp">Emotions Distribution</h3> <!></div>');function zt(ne,I){$e(I,!0);let R=$(()=>{const g=new Map;for(const n of I.events)if(n.emotionwheel?.emotions)for(const p of n.emotionwheel.emotions){const j=g.get(p.emotion);j?j.count++:g.set(p.emotion,{emotion:p.emotion,category:p.category,subcategory:p.subcategory,color:p.color,count:1})}return Array.from(g.values()).sort((n,p)=>n.category!==p.category?n.category.localeCompare(p.category):n.subcategory!==p.subcategory?n.subcategory.localeCompare(p.subcategory):p.count-n.count)}),E=$(()=>e(R).reduce((g,n)=>g+n.count,0)),x=$(()=>{if(e(E)===0)return[];const g=[];let n=-90;const p=150,j=150,L=120;for(const A of e(R)){const B=A.count/e(E)*100,U=B/100*360,b=n,T=n+U,J=b*Math.PI/180,K=T*Math.PI/180,q=p+L*Math.cos(J),G=j+L*Math.sin(J),k=p+L*Math.cos(K),v=j+L*Math.sin(K),y=U>180?1:0,u=`M ${p} ${j} L ${q} ${G} A ${L} ${L} 0 ${y} 1 ${k} ${v} Z`,o=(b+T)/2*Math.PI/180,i=L*.65,s=p+i*Math.cos(o),t=j+i*Math.sin(o);g.push({emotion:A.emotion,color:A.color,count:A.count,percentage:B,startAngle:b,endAngle:T,path:u,labelX:s,labelY:t}),n=T}return g}),oe=$(()=>{const g=new Map;for(const n of e(R)){const p=g.get(n.category);p?p.push(n):g.set(n.category,[n])}return Array.from(g.entries()).map(([n,p])=>{const j=p.reduce((A,B)=>A+B.count,0),L=e(E)>0?j/e(E)*100:0;return{category:n,emotions:p,percentage:L}}).sort((n,p)=>p.percentage-n.percentage)});var w=Jt(),Y=m(d(w),2);{var Z=g=>{var n=Bt();c(g,n)},Q=g=>{var n=Vt(),p=d(n),j=d(p);re(j,17,()=>e(x),se,(B,U)=>{var b=It(),T=d(b),J=d(T);r(T),r(b),S(K=>{f(b,"d",e(U).path),f(b,"fill",e(U).color),N(J,`${e(U).emotion??""}: ${e(U).count??""} (${K??""}%)`)},[()=>e(U).percentage.toFixed(1)]),c(B,b)});var L=m(j);re(L,17,()=>e(x),se,(B,U)=>{var b=ke(),T=he(b);{var J=K=>{var q=Gt(),G=d(q,!0);r(q),S(()=>{f(q,"x",e(U).labelX),f(q,"y",e(U).labelY),N(G,e(U).emotion)}),c(K,q)};z(T,K=>{e(U).percentage>=5&&K(J)})}c(B,b)}),r(p);var A=m(p,2);re(A,21,()=>e(oe),se,(B,U)=>{var b=Rt(),T=d(b),J=d(T),K=d(J,!0);r(J);var q=m(J,2),G=d(q);r(q),r(T);var k=m(T,2);re(k,21,()=>e(U).emotions,se,(v,y)=>{var u=Ht(),X=d(u),o=m(X,2),i=d(o,!0);r(o);var s=m(o,2),t=d(s,!0);r(s),r(u),S(()=>{Pe(X,`background-color: ${e(y).color??""}`),N(i,e(y).emotion),N(t,e(y).count)}),c(v,u)}),r(k),r(b),S(v=>{N(K,e(U).category),N(G,`${v??""}%`)},[()=>e(U).percentage.toFixed(1)]),c(B,b)}),r(A),r(n),c(g,n)};z(Y,g=>{e(x).length===0?g(Z):g(Q,!1)})}r(w),c(ne,w),Me()}var Nt=C('<p class="no-data svelte-g7rcfr">No emotions recorded in this time period</p>'),Kt=ie('<path class="stream-layer svelte-g7rcfr" opacity="0.85"><title> </title></path>'),Yt=ie('<circle r="3" class="daily-point svelte-g7rcfr"><title> </title></circle>'),Zt=ie('<path class="daily-line svelte-g7rcfr"></path><!>',1),Qt=ie('<text class="axis-label svelte-g7rcfr" text-anchor="middle"> </text>'),ea=ie('<line class="hover-line svelte-g7rcfr"></line><g class="tooltip"><text x="0" y="0" text-anchor="middle" class="tooltip-date svelte-g7rcfr"> </text></g>',1),ta=C('<span class="legend-count svelte-g7rcfr"> </span>'),aa=C('<div class="legend-item svelte-g7rcfr"><span class="legend-color svelte-g7rcfr"></span> <span class="legend-label svelte-g7rcfr"> </span> <!></div>'),oa=C('<div class="chart-container svelte-g7rcfr"><svg class="stream-chart svelte-g7rcfr"><g><!><!></g><g class="x-axis"></g><!></svg> <div class="legend svelte-g7rcfr"><div class="legend-item svelte-g7rcfr"><span class="legend-line-icon svelte-g7rcfr"></span> <span class="legend-label svelte-g7rcfr">Daily count</span></div> <!></div></div>'),ra=C('<div class="emotions-stream-graph svelte-g7rcfr"><h3 class="svelte-g7rcfr">Emotions Trends</h3> <!></div>');function sa(ne,I){$e(I,!0);let R=_e(600);const E=350,x={top:30,right:20,bottom:40,left:50};let oe=$(()=>Math.max(e(R),450)),w=$(()=>e(oe)-x.left-x.right);const Y=E-x.top-x.bottom;let Z=$(()=>[...I.events].filter(o=>o.emotionwheel?.emotions?.length).sort((o,i)=>o.eventDateUnix-i.eventDateUnix)),Q=$(()=>{const o=new Map;for(const i of e(Z))if(i.emotionwheel?.emotions)for(const s of i.emotionwheel.emotions)o.has(s.category)||o.set(s.category,s.color);return o}),g=$(()=>Array.from(e(Q).keys()).sort()),n=$(()=>{if(e(Z).length===0)return[];const o=new Map;for(const i of e(Z)){const t=ge.fromSeconds(i.eventDateUnix).startOf("week"),l=t.toISO();o.has(l)||o.set(l,{weekStart:t,weekStartUnix:t.toSeconds(),counts:new Map(e(g).map(h=>[h,0])),total:0});const a=o.get(l);if(i.emotionwheel?.emotions)for(const h of i.emotionwheel.emotions){const D=a.counts.get(h.category)||0;a.counts.set(h.category,D+1),a.total++}}return Array.from(o.values()).sort((i,s)=>i.weekStartUnix-s.weekStartUnix)}),p=$(()=>{if(e(n).length===0)return()=>0;const o=e(n)[0].weekStartUnix,s=e(n)[e(n).length-1].weekStartUnix-o||1;return t=>(t-o)/s*e(w)}),j=$(()=>{if(e(n).length===0||e(g).length===0)return[];const o=Math.max(...e(n).map(s=>s.total),1),i=e(g).map(s=>({category:s,color:e(Q).get(s)||"#888",points:[]}));for(const s of e(n)){const t=e(p)(s.weekStartUnix),l=e(g).map(D=>(s.counts.get(D)||0)/o*Y*.8),a=l.reduce((D,F)=>D+F,0);let h=(Y-a)/2;for(let D=0;D<e(g).length;D++){const F=h+l[D];i[D].points.push({x:t,y0:h,y1:F}),h=F}}return i});const L=o=>{if(o.length===0)return"";if(o.length===1){const s=o[0];return`M ${s.x-5} ${s.y0} L ${s.x+5} ${s.y0} L ${s.x+5} ${s.y1} L ${s.x-5} ${s.y1} Z`}let i=`M ${o[0].x} ${o[0].y0}`;for(let s=1;s<o.length;s++){const t=o[s-1],l=o[s],a=(t.x+l.x)/2;i+=` C ${a} ${t.y0}, ${a} ${l.y0}, ${l.x} ${l.y0}`}for(let s=o.length-1;s>=0;s--){const t=o[s];if(s===o.length-1)i+=` L ${t.x} ${t.y1}`;else{const l=o[s+1],a=(t.x+l.x)/2;i+=` C ${a} ${l.y1}, ${a} ${t.y1}, ${t.x} ${t.y1}`}}return i+=" Z",i};let A=$(()=>{if(e(n).length===0)return[];const o=8,i=[];if(e(n).length<=o)for(const s of e(n))i.push({x:e(p)(s.weekStartUnix),label:s.weekStart.toFormat("dd/MM")});else{const s=Math.ceil(e(n).length/o);for(let t=0;t<e(n).length;t+=s){const l=e(n)[t];i.push({x:e(p)(l.weekStartUnix),label:l.weekStart.toFormat("dd/MM")})}}return i}),B=_e(null),U=_e(null);const b=o=>{if(e(n).length===0)return;const s=o.currentTarget.getBoundingClientRect(),l=(o.clientX-s.left)/s.width*e(oe)-x.left;if(l>=0&&l<=e(w)){ae(B,l);let a=e(n)[0],h=Math.abs(e(p)(a.weekStartUnix)-l);for(const D of e(n)){const F=Math.abs(e(p)(D.weekStartUnix)-l);F<h&&(h=F,a=D)}ae(U,a,!0)}else ae(B,null),ae(U,null)},T=()=>{ae(B,null),ae(U,null)};let J=$(()=>{if(e(Z).length===0)return[];const o=new Map;for(const i of e(Z)){const s=ge.fromSeconds(i.eventDateUnix).startOf("day"),t=s.toISO();o.has(t)||o.set(t,{date:s,dateUnix:s.toSeconds(),count:0});const l=o.get(t);i.emotionwheel?.emotions&&(l.count+=i.emotionwheel.emotions.length)}return Array.from(o.values()).sort((i,s)=>i.dateUnix-s.dateUnix)}),K=$(()=>Math.max(...e(J).map(o=>o.count),1)),q=$(()=>e(J).map(o=>({x:e(p)(o.dateUnix),y:Y-o.count/e(K)*Y*.9,count:o.count,date:o.date}))),G=$(()=>{if(e(q).length===0)return"";if(e(q).length===1){const i=e(q)[0];return`M ${i.x-2} ${i.y} L ${i.x+2} ${i.y}`}let o=`M ${e(q)[0].x} ${e(q)[0].y}`;for(let i=1;i<e(q).length;i++){const s=e(q)[i-1],t=e(q)[i],l=(s.x+t.x)/2;o+=` C ${l} ${s.y}, ${l} ${t.y}, ${t.x} ${t.y}`}return o}),k=$(()=>{const o=new Map;for(const i of e(n))for(const[s,t]of i.counts)o.set(s,(o.get(s)||0)+t);return e(g).map(i=>({category:i,color:e(Q).get(i)||"#888",total:o.get(i)||0})).sort((i,s)=>s.total-i.total)});var v=ra(),y=m(d(v),2);{var u=o=>{var i=Nt();c(o,i)},X=o=>{var i=oa(),s=d(i);s.__mousemove=b;var t=d(s),l=d(t);re(l,17,()=>e(j),se,(le,ee)=>{var V=Kt(),te=d(V),ce=d(te,!0);r(te),r(V),S(de=>{f(V,"d",de),f(V,"fill",e(ee).color),N(ce,e(ee).category)},[()=>L(e(ee).points)]),c(le,V)});var a=m(l);{var h=le=>{var ee=Zt(),V=he(ee),te=m(V);re(te,17,()=>e(q),se,(ce,de)=>{var me=Yt(),xe=d(me),fe=d(xe);r(xe),r(me),S(W=>{f(me,"cx",e(de).x),f(me,"cy",e(de).y),N(fe,`${W??""}: ${e(de).count??""} emotions`)},[()=>e(de).date.toFormat("dd MMM")]),c(ce,me)}),S(()=>f(V,"d",e(G))),c(le,ee)};z(a,le=>{e(G)&&le(h)})}r(t);var D=m(t);re(D,21,()=>e(A),se,(le,ee)=>{var V=Qt(),te=d(V,!0);r(V),S(()=>{f(V,"x",x.left+e(ee).x),f(V,"y",E-x.bottom+20),N(te,e(ee).label)}),c(le,V)}),r(D);var F=m(D);{var ve=le=>{var ee=ea(),V=he(ee),te=m(V),ce=d(te),de=d(ce);r(ce),r(te),S((me,xe,fe,W)=>{f(V,"x1",me),f(V,"y1",x.top),f(V,"x2",xe),f(V,"y2",x.top+Y),f(te,"transform",`translate(${fe??""}, ${x.top-5})`),N(de,`Week of ${W??""}`)},[()=>x.left+e(p)(e(U).weekStartUnix),()=>x.left+e(p)(e(U).weekStartUnix),()=>x.left+e(p)(e(U).weekStartUnix),()=>e(U).weekStart.toFormat("dd MMM")]),c(le,ee)};z(F,le=>{e(B)!==null&&e(U)&&le(ve)})}r(s);var we=m(s,2),be=m(d(we),2);re(be,17,()=>e(k),se,(le,ee)=>{var V=aa(),te=d(V),ce=m(te,2),de=d(ce,!0);r(ce);var me=m(ce,2);{var xe=fe=>{var W=ta(),O=d(W,!0);r(W),S(M=>N(O,M),[()=>e(U).counts.get(e(ee).category)||0]),c(fe,W)};z(me,fe=>{e(U)&&fe(xe)})}r(V),S(()=>{Pe(te,`background-color: ${e(ee).color??""}`),N(de,e(ee).category)}),c(le,V)}),r(we),r(i),S(()=>{f(s,"viewBox",`0 0 ${e(oe)??""} 350`),f(t,"transform",`translate(${x.left}, ${x.top})`)}),Ue("mouseleave",s,T),Re(i,"clientWidth",le=>ae(R,le)),c(o,i)};z(y,o=>{e(n).length===0?o(u):o(X,!1)})}r(v),c(ne,v),Me()}We(["mousemove"]);var na=C('<p class="no-data svelte-1q0dbv2">No events recorded in this time period</p>'),la=ie('<line class="grid-line svelte-1q0dbv2"></line>'),ia=ie('<line class="monday-line svelte-1q0dbv2"></line>'),va=ie('<path class="line energy-line svelte-1q0dbv2"></path>'),ca=ie('<path class="line mood-line svelte-1q0dbv2"></path>'),da=ie('<circle r="4" class="point energy-point svelte-1q0dbv2"></circle>'),ua=ie('<circle r="4" class="point mood-point svelte-1q0dbv2"></circle>'),ga=ie('<text class="axis-label svelte-1q0dbv2"> </text>'),ma=ie('<text class="axis-label svelte-1q0dbv2" text-anchor="middle"> </text>'),ha=ie('<g class="tooltip"><rect x="-60" y="-45" width="120" height="40" rx="4" class="tooltip-bg svelte-1q0dbv2"></rect><text x="0" y="-30" text-anchor="middle" class="tooltip-title svelte-1q0dbv2"> </text><text x="0" y="-14" text-anchor="middle" class="tooltip-label svelte-1q0dbv2"> </text></g>'),fa=ie('<g class="hover-cursor"><line class="hover-line svelte-1q0dbv2"></line><text text-anchor="middle" class="hover-date svelte-1q0dbv2"> </text></g>'),pa=C('<div class="chart-container svelte-1q0dbv2"><svg class="line-chart svelte-1q0dbv2"><g class="grid"></g><g class="monday-lines"></g><g><!><!><!><!></g><g class="y-axis"></g><g class="x-axis"></g><!><!></svg> <div class="legend svelte-1q0dbv2"><div class="legend-item svelte-1q0dbv2"><span class="legend-line mood svelte-1q0dbv2"></span> <span>Mood</span></div> <div class="legend-item svelte-1q0dbv2"><span class="legend-line energy svelte-1q0dbv2"></span> <span>Energy</span></div></div></div>'),ya=C('<div class="mood-energy-chart svelte-1q0dbv2"><h3 class="svelte-1q0dbv2">Mood & Energy Evolution</h3> <!></div>');function xa(ne,I){$e(I,!0);const R={1:"Terrible",2:"Very Bad",3:"Bad",4:"Poor",5:"Okay",6:"Good",7:"Great",8:"Very Good",9:"Excellent",10:"Amazing"},E={1:"Exhausted",2:"Very Tired",3:"Tired",4:"Drained",5:"Low",6:"Moderate",7:"Good",8:"Energetic",9:"Vibrant",10:"Peak Energy"};let x=_e(600);const oe=300,w={top:20,right:20,bottom:40,left:50};let Y=$(()=>Math.max(e(x),450)),Z=$(()=>e(Y)-w.left-w.right);const Q=oe-w.top-w.bottom;let g=$(()=>[...I.events].filter(t=>t.mood||t.energy).sort((t,l)=>t.eventDateUnix-l.eventDateUnix)),n=$(()=>{const t=e(g).flatMap(l=>[l.mood,l.energy].filter(a=>a!=null));return t.length>0?Math.min(...t):1}),p=$(()=>{const t=e(g).flatMap(l=>[l.mood,l.energy].filter(a=>a!=null));return t.length>0?Math.max(...t):10}),j=$(()=>{if(e(g).length===0)return()=>0;const t=e(g)[0].eventDateUnix,a=e(g)[e(g).length-1].eventDateUnix-t||1;return h=>(h-t)/a*e(Z)}),L=$(()=>{const t=e(p)-e(n)||1;return l=>Q-(l-e(n))/t*Q});const A=t=>t.length===0?"":t.map((l,a)=>`${a===0?"M":"L"} ${l.x} ${l.y}`).join(" ");let B=$(()=>e(g).filter(t=>t.mood!==void 0&&t.mood!==null).map(t=>({x:e(j)(t.eventDateUnix),y:e(L)(t.mood),value:t.mood,date:t.eventDateUnix}))),U=$(()=>e(g).filter(t=>t.energy!==void 0&&t.energy!==null).map(t=>({x:e(j)(t.eventDateUnix),y:e(L)(t.energy),value:t.energy,date:t.eventDateUnix}))),b=$(()=>A(e(B))),T=$(()=>A(e(U))),J=$(()=>{const t=[];for(let l=e(n);l<=e(p);l++)t.push(l);return t}),K=$(()=>{if(e(g).length===0)return[];const t=6,l=[];if(e(g).length<=t)for(const a of e(g))l.push({x:e(j)(a.eventDateUnix),label:ge.fromSeconds(a.eventDateUnix).toFormat("dd/MM")});else{const a=[0],h=t-2,D=(e(g).length-1)/(h+1);for(let F=1;F<=h;F++)a.push(Math.round(D*F));a.push(e(g).length-1);for(const F of a){const ve=e(g)[F];l.push({x:e(j)(ve.eventDateUnix),label:ge.fromSeconds(ve.eventDateUnix).toFormat("dd/MM")})}}return l}),q=$(()=>{if(e(g).length===0)return[];const t=e(g)[0].eventDateUnix,l=e(g)[e(g).length-1].eventDateUnix;let a=ge.fromSeconds(t).startOf("day");const h=(8-a.weekday)%7;a=a.plus({days:h===0&&a.weekday!==1?7:h});const D=[],F=ge.fromSeconds(l);for(;a<=F;){const ve=a.toSeconds();D.push({x:e(j)(ve),label:a.toFormat("dd/MM")}),a=a.plus({weeks:1})}return D}),G=_e(null),k=_e(null);const v=t=>{if(e(g).length===0)return;const a=t.currentTarget.getBoundingClientRect(),D=(t.clientX-a.left)/a.width*e(Y)-w.left;if(D>=0&&D<=e(Z)){ae(G,D);const F=e(g)[0].eventDateUnix,we=e(g)[e(g).length-1].eventDateUnix-F||1,be=F+D/e(Z)*we;ae(k,ge.fromSeconds(be).startOf("day"),!0)}else ae(G,null),ae(k,null)},y=()=>{ae(G,null),ae(k,null)};let u=_e(null);var X=ya(),o=m(d(X),2);{var i=t=>{var l=na();c(t,l)},s=t=>{var l=pa(),a=d(l);a.__mousemove=v;var h=d(a);re(h,21,()=>e(J),se,(W,O)=>{var M=la();S((ue,ye)=>{f(M,"x1",w.left),f(M,"y1",ue),f(M,"x2",e(Y)-w.right),f(M,"y2",ye)},[()=>w.top+e(L)(e(O)),()=>w.top+e(L)(e(O))]),c(W,M)}),r(h);var D=m(h);re(D,21,()=>e(q),se,(W,O)=>{var M=ia();S(()=>{f(M,"x1",w.left+e(O).x),f(M,"y1",w.top),f(M,"x2",w.left+e(O).x),f(M,"y2",w.top+Q)}),c(W,M)}),r(D);var F=m(D),ve=d(F);{var we=W=>{var O=va();S(()=>f(O,"d",e(T))),c(W,O)};z(ve,W=>{e(T)&&W(we)})}var be=m(ve);{var le=W=>{var O=ca();S(()=>f(O,"d",e(b))),c(W,O)};z(be,W=>{e(b)&&W(le)})}var ee=m(be);re(ee,17,()=>e(U),se,(W,O)=>{var M=da();S(()=>{f(M,"cx",e(O).x),f(M,"cy",e(O).y)}),Ue("mouseenter",M,()=>ae(u,{...e(O),type:"energy"},!0)),Ue("mouseleave",M,()=>ae(u,null)),c(W,M)});var V=m(ee);re(V,17,()=>e(B),se,(W,O)=>{var M=ua();S(()=>{f(M,"cx",e(O).x),f(M,"cy",e(O).y)}),Ue("mouseenter",M,()=>ae(u,{...e(O),type:"mood"},!0)),Ue("mouseleave",M,()=>ae(u,null)),c(W,M)}),r(F);var te=m(F);re(te,21,()=>e(J),se,(W,O)=>{var M=ga(),ue=d(M,!0);r(M),S(ye=>{f(M,"x",w.left-8),f(M,"y",ye),N(ue,e(O))},[()=>w.top+e(L)(e(O))+4]),c(W,M)}),r(te);var ce=m(te);re(ce,21,()=>e(K),se,(W,O)=>{var M=ma(),ue=d(M,!0);r(M),S(()=>{f(M,"x",w.left+e(O).x),f(M,"y",oe-w.bottom+20),N(ue,e(O).label)}),c(W,M)}),r(ce);var de=m(ce);{var me=W=>{var O=ha(),M=m(d(O)),ue=d(M);r(M);var ye=m(M),De=d(ye,!0);r(ye),r(O),S(()=>{f(O,"transform",`translate(${w.left+e(u).x}, ${w.top+e(u).y})`),N(ue,`${e(u).type==="mood"?"Mood":"Energy"}: ${e(u).value??""}`),N(De,e(u).type==="mood"?R[e(u).value]:E[e(u).value])}),c(W,O)};z(de,W=>{e(u)&&W(me)})}var xe=m(de);{var fe=W=>{var O=fa(),M=d(O),ue=m(M),ye=d(ue,!0);r(ue),r(O),S(De=>{f(M,"x1",w.left+e(G)),f(M,"y1",w.top),f(M,"x2",w.left+e(G)),f(M,"y2",w.top+Q),f(ue,"x",w.left+e(G)),f(ue,"y",w.top-6),N(ye,De)},[()=>e(k).toFormat("dd/MM")]),c(W,O)};z(xe,W=>{e(G)!==null&&e(k)&&W(fe)})}r(a),Ne(2),r(l),S(()=>{f(a,"viewBox",`0 0 ${e(Y)??""} 300`),f(F,"transform",`translate(${w.left}, ${w.top})`)}),Ue("mouseleave",a,y),Re(l,"clientWidth",W=>ae(x,W)),c(t,l)};z(o,t=>{e(g).length===0?t(i):t(s,!1)})}r(X),c(ne,X),Me()}We(["mousemove"]);var _a=C("<p>Loading events</p>"),wa=C("<!> <!> <!> <!> <!>",1);function ba(ne,I){$e(I,!0);const R=()=>Ee(Ie,"$personalTrackerPassword",x),E=()=>Ee(Te,"$eventsStore",x),[x,oe]=Xe();Ae(()=>{Te.fetch(R())});let w=_e(Oe(ge.now().minus({week:1}).toMillis())),Y=_e(Oe(ge.now().toMillis())),Z=$(()=>E().events.filter(j=>j.eventDateUnix>=e(w)/1e3&&j.eventDateUnix<=e(Y)/1e3).sort((j,L)=>L.eventDateUnix-j.eventDateUnix));var Q=ke(),g=he(Q);{var n=j=>{var L=_a();c(j,L)},p=j=>{var L=ke(),A=he(L);{var B=b=>{{let T=$(()=>({level:"error",header:"Something went wrong getting events",message:E().error.message}));Be(b,{get item(){return e(T)}})}},U=b=>{var T=wa(),J=he(T);Tt(J,{get startDate(){return e(w)},set startDate(v){ae(w,v,!0)},get endDate(){return e(Y)},set endDate(v){ae(Y,v,!0)}});var K=m(J,2);xa(K,{get events(){return e(Z)}});var q=m(K,2);sa(q,{get events(){return e(Z)}});var G=m(q,2);Xt(G,{get events(){return e(Z)}});var k=m(G,2);zt(k,{get events(){return e(Z)}}),c(b,T)};z(A,b=>{E().error?b(B):b(U,!1)},!0)}c(j,L)};z(g,j=>{E().loading?j(n):j(p,!1)})}c(ne,Q),Me(),oe()}var $a=C(`<div class="controls svelte-8wagie"><button>Add Today's entry</button> <button class="view-toggle svelte-8wagie"> </button></div> <!>`,1),Ma=C("<!> <!>",1);function Va(ne,I){$e(I,!0);const R={name:"Personal Tracker",description:"Track me metrics",iconPath:"/personal_tracker.png",showAuthInHeader:!0};st.set(R);const E=["calendar","list","metrics"];let x=_e("calendar");const oe=()=>{const g=E.indexOf(e(x));ae(x,E[(g+1)%E.length],!0)},w={calendar:"üìÖ Calendar",list:"üìã List",metrics:"üìä Metrics"};var Y=Ma(),Z=he(Y);et(Z,{get title(){return R.name},get description(){return R.description},get iconPath(){return R.iconPath}});var Q=m(Z,2);Qe(Q,{message:"Login to see events",requiredScope:"admin",children:(g,n)=>{rt(g,{children:(p,j)=>{var L=$a(),A=he(L),B=d(A);B.__click=()=>Ge("/personal-tracker/add");var U=m(B,2);U.__click=oe;var b=d(U,!0);r(U),r(A);var T=m(A,2);{var J=q=>{Ut(q,{})},K=q=>{var G=ke(),k=he(G);{var v=u=>{pt(u,{})},y=u=>{ba(u,{})};z(k,u=>{e(x)==="list"?u(v):u(y,!1)},!0)}c(q,G)};z(T,q=>{e(x)==="calendar"?q(J):q(K,!1)})}S(q=>N(b,q),[()=>w[E[E.indexOf(e(x))]]]),c(p,L)},$$slots:{default:!0}})},$$slots:{default:!0}}),c(ne,Y),Me()}We(["click"]);export{Va as component};
