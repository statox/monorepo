import"../chunks/DsnmJJEf.js";import{a as oe,o as le}from"../chunks/vjUZdrab.js";import{p as J,a1 as ae,g as r,h as G,b as B,e as m,r as n,a as j,d as U,i as K,s as S,f as z,c as ne,n as se,t as P,F as ee,aI as de}from"../chunks/eXUqL77E.js";import{d as q,s as F}from"../chunks/BemXrffE.js";import{i as Y}from"../chunks/CTMdkGpN.js";import{k as ce}from"../chunks/5A8KQ7Q_.js";import{e as R,i as V}from"../chunks/D9zXBg3D.js";import{b as ge,c as te}from"../chunks/CujdopWx.js";import"../chunks/ctDXYmCv.js";import"../chunks/CaxU5mzv.js";import{p as me}from"../chunks/B4-ntoLf.js";/* empty css                */import"../chunks/CnfZ9F3w.js";import{p as re}from"../chunks/TtEguMge.js";import{P as ie}from"../chunks/Bsmh5y_W.js";import{m as ve}from"../chunks/BuqJaIpI.js";const he=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}],W=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Q=M=>{if(M<1||M>7)throw new Error(`Unkown degree ${M}`);return["I","II","III","IV","V","VI","VII"][M-1]};var fe=B('<div class="d-flex justify-content-center"><!></div>');function ue(M,d){J(d,!0);let x=G(void 0),C=re(d,"labelMode",3,"name");const w=["C","D","E","F","G","A","B"],u=["C#","D#","F#","G#","A#"],l=14,c=t=>{const D=[80,70,60,150],e=[80,70,60],o=t.width/l;for(let a=0;a<l;a++){const i=w[a%w.length];t.strokeWeight(1),t.stroke(D),t.noFill(),t.rect(o*a,0,o,t.height);const b=i+"#";u.includes(b)&&(t.fill(e),t.rect(o*a+2*o/3,0,o/2,t.height*.65))}},T=(t,D,e)=>{if(e==="name")return D;const o=t.indexOf(D);if(o===-1)throw new Error("note not in scale");return Q(o+1)},A=t=>{const D=t.width/l;for(let e=0;e<l;e++){const o=w[e%w.length],a=d.notesToDisplay.indexOf(o);if(a>=0){a===0?t.fill([250,80,80]):t.fill("black");const _=D*e+D/2,s=t.height*.8;t.circle(_,s,20),t.noStroke(),t.fill("white");const v=T(d.notesToDisplay,o,C());t.text(v,_-t.textWidth(v)/2,s+t.textSize()/2)}const i=o+"#",b=d.notesToDisplay.indexOf(i);if(b>=0){b===0?t.fill([250,80,80]):t.fill("black");const _=D*e+D,s=t.height*.5;t.circle(_,s,20),t.noStroke(),t.fill("white");const v=T(d.notesToDisplay,i,C());t.text(v,_-t.textWidth(v)/2,s+t.textSize()/2)}}},p=t=>{t.setup=()=>{K(x,t,!0),t.createCanvas(900,300),t.textStyle(t.BOLD)},t.draw=()=>{t.background([200,190,170]),c(t),A(t),t.noLoop()}};ae(()=>{(d.notesToDisplay||C())&&r(x)?.draw()}),oe(()=>{r(x)?.remove()});var f=fe(),N=m(f);ie(N,{sketch:p}),n(f),j(M,f),U()}var be=B('<div class="d-flex justify-content-center"><!></div>');function _e(M,d){J(d,!0);let x=G(void 0),C=re(d,"labelMode",3,"name");const w=["E","A","D","G","B","E"],u=15,l=w.map(e=>{const o=W.indexOf(e);if(o===-1)throw new Error(`Base ${e} not found`);const a=[e];for(let i=1;i<u;i++){const b=W[(o+i)%W.length];a.push(b)}return a}),c=30,T=e=>{const o=[80,70,60,150],a=e.height/6;for(let s=0;s<l.length;s++){const v=w[s],I=a*s+a/2;e.strokeWeight(1),e.stroke(o),e.noFill(),e.line(c,I,e.width,I),e.noStroke(),e.fill(o),e.text(v,5,e.height-I+e.textSize()/2)}e.strokeWeight(5),e.stroke(o),e.noFill(),e.line(c,a/2,c,e.height-a/2),e.strokeWeight(1);const i=e.width/l[0].length;for(let s=1;s<u;s++){const v=c+i*s;e.line(v,a/2,v,e.height-a/2)}const b=[3,5,7,9,15];for(const s of b){let{x:v,y:I}=f({string:2,fret:s});I-=a/2,e.fill(o),e.circle(v,I,10)}const _=[1,3];for(const s of _){let{x:v,y:I}=f({string:s,fret:12});I-=a/2,e.fill(o),e.circle(v,I,10)}},A=(e,o,a)=>{if(a==="name")return o;const i=e.indexOf(o);if(i===-1)throw new Error("note not in scale");return Q(i+1)},p=e=>{for(let o=0;o<6;o++){const a=l[o];for(let i=0;i<a.length;i++){const b=a[i];if(!d.notesToDisplay.includes(b))continue;const _={string:o,fret:i},{x:s,y:v}=f(_);d.notesToDisplay.indexOf(b)===0?e.fill([250,80,80]):e.fill("black"),e.circle(s,v,20),e.noStroke(),e.fill("white");const I=A(d.notesToDisplay,b,C());e.text(I,s-e.textWidth(I)/2,v+e.textSize()/2)}}},f=e=>{if(r(x)===void 0)throw new Error("P5 instance is undefined");const{string:o,fret:a}=e,i=r(x).height/6,b=i*(5-o)+i/2;if(a===0)return{x:c,y:b};const _=r(x).width/l[0].length;return{x:c+_*(a-1)+_*.5,y:b}},N=e=>{e.setup=()=>{K(x,e,!0),e.createCanvas(900,300),e.textStyle(e.BOLD)},e.draw=()=>{e.background([200,190,170]),T(e),p(e),e.noLoop()}};ae(()=>{(d.notesToDisplay||C())&&r(x)?.draw()}),oe(()=>{r(x)?.remove()});var t=be(),D=m(t);ie(D,{sketch:N}),n(t),j(M,t),U()}var ye=B('<h3>Instrument</h3> <div><button>C / IV</button> <button><i class="fas fa-guitar"></i> / <i class="fas fa-keyboard"></i></button></div> <!> <!>',1);function xe(M,d){J(d,!0);let x=G("name");const C=["neck","keyboard","both"];let w=G(0);var u=ye(),l=S(z(u),2),c=m(l);c.__click=()=>K(x,r(x)==="name"?"degree":"name",!0);var T=S(c,2);T.__click=()=>K(w,(r(w)+1)%C.length),n(l);var A=S(l,2);{var p=t=>{_e(t,{get notesToDisplay(){return d.notesToDisplay},get labelMode(){return r(x)}})};Y(A,t=>{["neck","both"].includes(C[r(w)])&&t(p)})}var f=S(A,2);{var N=t=>{ue(t,{get notesToDisplay(){return d.notesToDisplay},get labelMode(){return r(x)}})};Y(f,t=>{["keyboard","both"].includes(C[r(w)])&&t(N)})}j(M,u),U()}q(["click"]);var we=B(`<div role="dialog" class="modal svelte-j872fo"><div class="contents svelte-j872fo"><h4 class="title-bar svelte-j872fo">Chord Progressions <button>Close</button></h4> <div>This is a list of chord progressions I took from David Benett's videos and elsewhere
                too <ul><li><a href="https://www.youtube.com/watch?v=Vyc8lezaa9g" rel="noopener noreferrer" target="_blank">David Benett - 7 super common chord progressions and why they work</a></li> <li><a href="https://www.youtube.com/watch?v=v3YbEL-_eoI" rel="noopener noreferrer" target="_blank">David Benett - 6 more common chord progressions and why they work</a></li></ul> The user can change the tonic note in the "Scales" section and the progressions will
                change the actual chords to play.</div></div></div>`);function ke(M,d){var x=ne(),C=z(x);{var w=u=>{var l=we(),c=m(l),T=m(c),A=S(m(T));A.__click=function(...p){d.close?.apply(this,p)},n(T),se(2),n(c),n(l),j(u,l)};Y(C,u=>{d.isOpen&&u(w)})}j(M,x)}q(["click"]);var pe=B("<span><b>Examples:</b> </span>"),De=B('<div class="progression-step"><div class="step-degree svelte-1ga79sv"> </div> <div class="step-value svelte-1ga79sv"> </div></div>'),Ie=B('<div><h4> </h4> <!> <div class="progression-table svelte-1ga79sv"></div></div> <br/>',1),Se=B('<h3>Chord Progressions <span><button aria-label="info"><i class="fa fa-info-circle" aria-hidden="true"></i></button></span></h3> <!>',1);function Ce(M,d){J(d,!0);let x=re(d,"scaleNotes",19,()=>[]);const C=p=>{let f=Q(p.degree);return p.minor&&(f=f.toLowerCase()),p.flat&&(f="b"+f),f},w=p=>{const f=x()[p.degree-1];let N=W.indexOf(f);p.flat&&(N--,N===-1&&(N=W.length-1));let t=W[N];return p.minor&&(t+="m"),t};var u=Se(),l=z(u),c=S(m(l)),T=m(c);T.__click=()=>ve.open(ke),ge(T,"",{},{position:"relative"}),n(c),n(l);var A=S(l,2);R(A,17,()=>he,V,(p,f)=>{var N=Ie(),t=z(N),D=m(t),e=m(D,!0);n(D);var o=S(D,2);{var a=b=>{var _=pe(),s=S(m(_));n(_),P(v=>F(s,` ${v??""}`),[()=>r(f).examples.join(", ")]),j(b,_)};Y(o,b=>{r(f).examples&&b(a)})}var i=S(o,2);R(i,21,()=>r(f).chords,V,(b,_)=>{var s=De(),v=m(s),I=m(v,!0);n(v);var H=S(v,2),X=m(H,!0);n(H),n(s),P((Z,$)=>{F(I,Z),F(X,$)},[()=>C(r(_)),()=>w(r(_))]),j(b,s)}),n(i),n(t),se(2),P(()=>F(e,r(f).name)),j(p,N)}),j(M,u),U()}q(["click"]);var Te=B("<option> </option>"),Ne=B("<option> </option>"),Me=B("<option> </option>"),je=B('<th class="svelte-de2nb4"> </th>'),Be=B('<td class="svelte-de2nb4"> </td>'),Le=B('<table><thead><tr><th class="svelte-de2nb4"><label for="tonicInput">Tonic</label></th><th class="svelte-de2nb4"><label for="scaleInput">Scale</label></th><th class="svelte-de2nb4"><label for="modeInput">mode</label></th></tr></thead><tbody><tr><td class="svelte-de2nb4"><select id="tonicInput"></select></td><td class="svelte-de2nb4"><select id="scaleInput"></select></td><td class="svelte-de2nb4"><select id="modeInput"></select></td></tr></tbody></table> <br/> <table><tbody><tr></tr><tr></tr></tbody></table> <!> <!>',1);function qe(M,d){J(d,!0),me.set({name:"Scales"});const x=[{name:"Major",intervals:[2,2,1,2,2,2,1],chords:["major","minor","minor","diminished","major","minor","major"]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2],chords:["minor","diminished","major","minor","major","major","minor"]},{name:"Pentatonic major",intervals:[2,2,3,2,3],chords:["major","minor","minor","major","minor"]},{name:"Pentatonic minor",intervals:[3,2,2,3,2],chords:["minor","major","minor","major","major"]}],C=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let w=G("C"),u=G(ee(x[0])),l=G(ee(C[0])),c=G(ee([]));const T=(g,h,y)=>{const{intervals:L}=h;K(c,[g],!0);const k=W.indexOf(g);if(k===-1)throw new Error(`Tonic ${g} not found`);let E=k;for(const O of L)E=(E+O)%W.length,r(c).push(W[E]);r(c).pop();for(let O=1;O<y.degree;O++)r(c).push(r(c).shift())},A=(g,h)=>{let y=Q(g);return h==="minor"?y=y.toLowerCase():h==="diminished"&&(y+="°"),y},p=(g,h)=>{let y=g;return h==="minor"?y+="m":h==="diminished"&&(y+="°"),y};le(()=>T(r(w),r(u),r(l)));var f=Le(),N=z(f),t=S(m(N)),D=m(t),e=m(D),o=m(e);o.__change=()=>T(r(w),r(u),r(l)),R(o,21,()=>W,V,(g,h)=>{var y=Te(),L=m(y,!0);n(y);var k={};P(()=>{F(L,r(h)),k!==(k=r(h))&&(y.value=(y.__value=r(h))??"")}),j(g,y)}),n(o),n(e);var a=S(e),i=m(a);i.__change=()=>T(r(w),r(u),r(l)),R(i,21,()=>x,V,(g,h,y,L)=>{var k=Ne(),E=m(k,!0);n(k);var O={};P(()=>{F(E,r(h).name),O!==(O=r(h))&&(k.value=(k.__value=r(h))??"")}),j(g,k)}),n(i),n(a);var b=S(a),_=m(b);_.__change=()=>T(r(w),r(u),r(l)),R(_,21,()=>C,V,(g,h,y,L)=>{var k=Me(),E=m(k,!0);n(k);var O={};P(()=>{F(E,r(h).name),O!==(O=r(h))&&(k.value=(k.__value=r(h))??"")}),j(g,k)}),n(_),n(b),n(D),n(t),n(N);var s=S(N,4),v=m(s),I=m(v);R(I,21,()=>r(u).chords,V,(g,h,y)=>{var L=je(),k=m(L,!0);n(L),P(E=>F(k,E),[()=>A(y+1,r(h))]),j(g,L)}),n(I);var H=S(I);R(H,21,()=>r(c),V,(g,h,y)=>{const L=de(()=>r(u).chords[y]);var k=Be(),E=m(k,!0);n(k),P(O=>F(E,O),[()=>p(r(h),r(L))]),j(g,k)}),n(H),n(v),n(s);var X=S(s,2);xe(X,{get notesToDisplay(){return r(c)}});var Z=S(X,2);{var $=g=>{var h=ne(),y=z(h);ce(y,()=>r(c),L=>{Ce(L,{get scaleNotes(){return r(c)}})}),j(g,h)};Y(Z,g=>{["Major","Natural minor"].includes(r(u).name)&&g($)})}te(o,()=>r(w),g=>K(w,g)),te(i,()=>r(u),g=>K(u,g)),te(_,()=>r(l),g=>K(l,g)),j(M,f),U()}q(["change"]);export{qe as component};
